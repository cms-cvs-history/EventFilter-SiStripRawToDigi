
process Digi2Raw2RecHits = 
{
    include "DQM/SiStripCommon/data/MessageLogger.cfi"

    # Initialize magnetic field
    include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

    # event setup
    include "EventFilter/SiStripRawToDigi/data/Geometry.cff"
    include "EventFilter/SiStripRawToDigi/data/DBCabling.cfi"
    es_module = SiStripConnectivity {}
    es_module = SiStripRegionConnectivity 
    {
	untracked uint32 EtaDivisions = 50
	untracked uint32 PhiDivisions = 50
	untracked double EtaMax = 2.4
    }
    
    # physics source
    include "EventFilter/SiStripRawToDigi/data/PoolSource.cfi"
    replace maxEvents.input = 10

    # digi-to-raw
    include "EventFilter/SiStripRawToDigi/data/DigiToRaw.cfi"
    replace DigiToRaw.InputModuleLabel = "siStripDigis"  
    replace DigiToRaw.FedReadoutMode = "ZERO_SUPPRESSED" 
    path digitoraw = {DigiToRaw}

    # raw-to-clusters
    include "EventFilter/SiStripRawToDigi/test/data/SiStripRawToClusters.cff"
    path rawtoclusters = {sistriprawtoclusters}  

    # clusters-to-rechits
    include "RecoLocalTracker/SiStripRecHitConverter/data/SiStripRecHitConverter.cfi"
    include "RecoLocalTracker/SiStripRecHitConverter/data/SiStripRecHitMatcher.cfi"
    include "RecoLocalTracker/SiStripRecHitConverter/data/StripCPEfromTrackAngle.cfi"
    path clusterstorechits = {siStripMatchedRecHits}
}

