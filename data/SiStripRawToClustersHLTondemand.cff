# raw-to-clusters facility
include "EventFilter/SiStripRawToDigi/data/SiStripRawToClusters.cfi"

# module to produce refgetter for on demand tracking
module siStripClusters = measurementTrackerSiStripRefGetterProducer from "RecoTracker/MeasurementDet/data/MeasurementTrackerSiStripRefGetterProducer.cfi"
replace siStripClusters.measurementTrackerName = ""

# modify measurementTracker to use refGetter
include "RecoTracker/MeasurementDet/data/MeasurementTrackerESProducer.cfi"
replace MeasurementTracker.Regional = true
replace MeasurementTracker.OnDemand = true
replace MeasurementTracker.stripLazyGetterProducer = "SiStripRawToClustersFacility"

sequence SiStripRawToClusters = { SiStripRawToClustersFacility, siStripClusters }
